services:
  smarttag-frontend:
    build: ./frontend
    volumes:
      - ./frontend/dist:/dist-out
    command: sh -c "cp -r /dist/* /dist-out/"
    networks: [appnet]

  smarttag-backend:
    build: ./backend
    ports: ["5000:5000"]   # uvicorn ascultÄƒ pe 5000
    networks: [appnet]
    volumes:
      - ./backend/app/data:/app/data
    environment:
      - DATABASE_URL=sqlite:///data/smarttag.db


networks:
  appnet:
    external: true
